# pytest 설정 파일 - 테스트 실행 시 자동으로 적용되는 설정들
[pytest]

# 비동기 테스트 자동 감지 및 실행 모드
# auto: @pytest.mark.asyncio 없이도 async def 함수를 자동으로 비동기 테스트로 인식
asyncio_mode = auto

# 비동기 fixture의 이벤트 루프 범위 설정
# function: 각 테스트 함수마다 새로운 이벤트 루프 생성 (기본값, 안전함)
# class: 클래스 단위로 이벤트 루프 공유
# module: 모듈 단위로 이벤트 루프 공유
# session: 전체 테스트 세션 동안 하나의 이벤트 루프 사용
asyncio_default_fixture_loop_scope = function

# 기본 pytest 옵션 추가
# -s: 출력 캡처 비활성화 (print 문 등을 콘솔에 표시)
# -v: 상세한 출력 (각 테스트 함수명 표시)
# --tb=short: 트레이스백을 짧게 표시
addopts = -s -v --tb=short